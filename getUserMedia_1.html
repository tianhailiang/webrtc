<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>

	<input type="button" value="Start" onclick="start()" id="startBtn">
	<script>
	 var startBtn = document.getElementById('startBtn');

	 function start() {
	     navigator.mediaDevices.getUserMedia({
	         audio: true,
	         video: true
	     }).then(gotStream).catch(logError);
	     startBtn.disabled = true;
	 }

	 function gotStream(stream) {
	     stream.getTracks().forEach(function (track) {
	         track.onended = function () {
	             startBtn.disabled = stream.active;
	         };
	     });
	 }

	 function logError(error) {
	     log(error.name + ": " + error.message);
	 }
</script>
	
</body>
</html>